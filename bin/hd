#!/usr/bin/env python
# Copyright (C) 2015 Jurriaan Bremer.

import os.path
import sys

import hd


if __name__ == '__main__':
    if len(sys.argv) == 1:
        print 'Usage: %s <file> [options..]' % os.path.basename(sys.argv[0])
        exit(1)

    path = None
    args = {}

    for arg in sys.argv[1:]:
        if '=' not in arg:
            if path:
                print 'Please do not pass multiple files..'
                exit(1)
            path = arg
            continue

        key, value = arg.split('=', 1)
        args[key.strip()] = value.strip()

    try:
        hd.hexdump(open(path, 'rb'), **args)
    except IOError:
        pass
